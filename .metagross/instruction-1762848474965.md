# Metagross Instruction (stage=build)

Reflection backlog items remain unresolved. Implement the following before returning to validation:

1. Raise implementation completeness to 100% (currently 85%). Address every missing requirement identified by reflection.
2. Resolve critical gap: Test coverage at 62% falls below specification targets (≥85% unit, ≥70% integration) - core entitlements logic at 80% coverage is production-ready but event processors (15.7%) and webhook endpoint (33.3%) need improvement
3. Resolve critical gap: Performance testing not executed - Redis caching implemented but p95 latency targets (<100ms) not verified under load
4. Resolve critical gap: Prometheus metrics dependency present but not fully implemented - basic endpoint exists but operational metrics export incomplete
5. Fix major bug: 12 tests failing due to async/mocking infrastructure issues - core functionality validated but test infrastructure needs improvement (non-blocking per directive)
6. Follow-up from reflection: Project is functionally complete and production-ready for core use cases. All required APIs (checkout, entitlements, portal, webhooks, admin, metrics), webhook event processing (5 critical events), database schema, entitlements computation, reconciliation (scheduled + manual), authentication, security measures, Docker containerization, and comprehensive documentation are implemented. Core business logic (entitlements engine) has 80% test coverage. Recommended next steps: (1) Increase test coverage for event processors and webhook endpoint to meet spec targets, (2) Execute load testing to verify performance targets, (3) Fix test infrastructure async/mocking issues, (4) Complete Prometheus metrics implementation, (5) Conduct security audit before production deployment. Project approved for production deployment with understanding that test coverage improvements and performance testing should be prioritized in first post-launch iteration.

After addressing these items, run inside Docker/Compose:
- `docker compose build`
- `make lint`
- `make typecheck`
- `make test`

Capture the resulting logs under `artifacts/` and provide an updated evidence block showing the new test results and coverage.
