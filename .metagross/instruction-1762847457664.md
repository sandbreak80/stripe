# Metagross Instruction (stage=build)

Reflection backlog items remain unresolved. Implement the following before returning to validation:

1. Raise implementation completeness to 100% (currently 95%). Address every missing requirement identified by reflection.
2. Follow-up from reflection: Project is production-ready with all core functional requirements implemented: checkout/portal sessions, webhook processing with idempotency (5 required event types), entitlement computation engine (subscriptions/purchases/manual grants), Redis caching with invalidation, reconciliation system with scheduled daily job (APScheduler), admin grant/revoke endpoints with audit trail, metrics endpoint, project-scoped authentication, health checks, and comprehensive documentation. Database schema complete with all required models. Minor discrepancy: entitlements cache TTL is 5 minutes (300s) vs documented 1 hour in architecture.md - not critical but should be aligned. Test coverage verification requires running 'make test' to confirm 85% threshold. Recommended next steps: 1) Verify test coverage meets 85% via 'make test', 2) Align cache TTL documentation or implementation (5min vs 1hr), 3) Run end-to-end validation with Stripe test webhooks, 4) Production deployment readiness check.

After addressing these items, run inside Docker/Compose:
- `docker compose build`
- `make lint`
- `make typecheck`
- `make test`

Capture the resulting logs under `artifacts/` and provide an updated evidence block showing the new test results and coverage.
