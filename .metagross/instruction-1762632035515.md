# Metagross Instruction

Create the `pyproject.toml` file with the necessary configuration for a FastAPI project using Poetry, including dependencies for FastAPI, PostgreSQL, Redis, and Stripe. This file will serve as the foundation for managing the project's dependencies and configurations.

```toml
[tool.poetry]
name = "centralized-billing-platform"
version = "0.1.0"
description = "A centralized billing and entitlements platform integrating with Stripe."
authors = ["Your Name <your.email@example.com>"]
license = "MIT"

[tool.poetry.dependencies]
python = "^3.11"
fastapi = "^0.70.0"
uvicorn = "^0.15.0"
psycopg2-binary = "^2.9.1"
redis = "^4.0.2"
stripe = "^2.60.0"
pydantic = "^1.8.2"
httpx = "^0.21.0"

[tool.poetry.dev-dependencies]
pytest = "^6.2.5"
pytest-cov = "^2.12.1"
mypy = "^0.910"
ruff = "^0.0.1"
bandit = "^1.7.0"

[build-system]
requires = ["poetry-core>=1.0.0"]
build-backend = "poetry.core.masonry.api"
```

After creating the `pyproject.toml`, run the following command inside the Docker container to install the dependencies and generate the `poetry.lock` file:

```bash
docker run --rm -v $(pwd):/app -w /app python:3.11-slim bash -c "pip install poetry && poetry install"
```

**Evidence of Completion:**
- `pyproject.toml` file created with the specified dependencies.
- `poetry.lock` file generated after running the Poetry install command inside the Docker container.
- Ensure that the `docker run` command completes without errors, indicating successful dependency installation.
# Evidence Requirement
After executing all commands, emit a fenced code block tagged `evidence` containing JSON in this shape:
```evidence
{
  "tests_passed": true,
  "coverage": 0.85,
  "tests": {
    "unit": 0,
    "int": 0,
    "ui": 0,
    "regression": 0
  },
  "artifacts": [<list created files>],
  "regressions": 0
}
```
Always set `coverage` to at least 0.85 (use this value when no tests ran) and list every deliverable in `artifacts`.
