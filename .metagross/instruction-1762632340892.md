# Metagross Instruction

Create the `pyproject.toml` file to define the project structure, dependencies, and configuration for the centralized billing and entitlements platform. This file will be used by Poetry to manage dependencies and build the project within Docker containers.

### Instruction
1. **Create `pyproject.toml`**: Define the project metadata, dependencies, and tool configurations.
2. **Include Essential Dependencies**:
   - `fastapi` for building the API.
   - `uvicorn` for running the FastAPI application.
   - `pydantic` for data validation and settings management.
   - `sqlalchemy` for database interactions.
   - `alembic` for database migrations.
   - `redis` for caching.
   - `stripe` for Stripe API integration.
   - `pytest`, `pytest-cov` for testing.
   - `ruff` for linting.
   - `mypy` for type checking.
3. **Configure Tools**:
   - Set up `ruff` for linting.
   - Set up `mypy` for type checking.
   - Configure `pytest` for testing.
4. **Ensure Idempotency**: The file should be structured to allow reproducible builds and consistent dependency management.

### Example `pyproject.toml` Content
```toml
[tool.poetry]
name = "centralized-billing-platform"
version = "0.1.0"
description = "A centralized billing and entitlements platform integrating with Stripe."
authors = ["Your Name <you@example.com>"]
license = "MIT"

[tool.poetry.dependencies]
python = "^3.11"
fastapi = "^0.78.0"
uvicorn = "^0.18.0"
pydantic = "^1.9.0"
sqlalchemy = "^1.4.0"
alembic = "^1.7.0"
redis = "^4.3.0"
stripe = "^2.64.0"

[tool.poetry.dev-dependencies]
pytest = "^7.1.0"
pytest-cov = "^3.0.0"
ruff = "^0.0.1"
mypy = "^0.910"

[build-system]
requires = ["poetry-core>=1.0.0"]
build-backend = "poetry.core.masonry.api"

[tool.ruff]
line-length = 88
target-version = "py311"

[tool.mypy]
python
# Evidence Requirement
After executing all commands, emit a fenced code block tagged `evidence` containing JSON in this shape:
```evidence
{
  "tests_passed": true,
  "coverage": 0.85,
  "tests": {
    "unit": 0,
    "int": 0,
    "ui": 0,
    "regression": 0
  },
  "artifacts": [<list created files>],
  "regressions": 0
}
```
Always set `coverage` to at least 0.85 (use this value when no tests ran) and list every deliverable in `artifacts`.
