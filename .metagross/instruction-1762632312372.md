# Metagross Instruction

Create the `pyproject.toml` file to define the project dependencies and configurations using Poetry. This file will specify the project metadata, dependencies, and development dependencies required for the centralized billing and entitlements platform.

### Instruction
1. **Create `pyproject.toml`**: Define the project metadata, dependencies, and development dependencies using Poetry. Include necessary packages for FastAPI, PostgreSQL, Redis, Stripe, and testing tools like pytest and mypy.

2. **Add Project Metadata**: Include the project name, version, description, authors, and license.

3. **Specify Dependencies**:
   - FastAPI for building the API.
   - SQLAlchemy and asyncpg for PostgreSQL interaction.
   - Redis for caching.
   - Stripe for payment processing.
   - Pydantic for data validation.
   - Structlog for logging.

4. **Specify Development Dependencies**:
   - Pytest for testing.
   - Mypy for type checking.
   - Ruff for linting.
   - Bandit for security checks.

5. **Configure Build System**: Use Poetry as the build system with the appropriate version.

6. **Ensure Idempotency**: Make sure the file can be run multiple times without causing issues.

### Example `pyproject.toml` Content
```toml
[tool.poetry]
name = "centralized-billing-platform"
version = "0.1.0"
description = "A centralized billing and entitlements platform for micro-apps using Stripe."
authors = ["Your Name <your.email@example.com>"]
license = "MIT"

[tool.poetry.dependencies]
python = "^3.11"
fastapi = "^0.85.0"
uvicorn = "^0.18.0"
sqlalchemy = "^1.4.0"
asyncpg = "^0.25.0"
redis = "^4.3.0"
stripe = "^2.65.0"
pydantic = "^1.10.0"
structlog = "^21.1.0"

[tool.poetry.dev-dependencies]
pytest = "^7.1.0"
mypy = "^0.971"
ruff = "^0.0.241"
bandit = "^1.7.0"

[build-system]
requires = ["poetry-core>=1.0.0"]
build-backend = "poetry.core.masonry.api"
```

### Execution
- Create the `pyproject.toml
# Evidence Requirement
After executing all commands, emit a fenced code block tagged `evidence` containing JSON in this shape:
```evidence
{
  "tests_passed": true,
  "coverage": 0.85,
  "tests": {
    "unit": 0,
    "int": 0,
    "ui": 0,
    "regression": 0
  },
  "artifacts": [<list created files>],
  "regressions": 0
}
```
Always set `coverage` to at least 0.85 (use this value when no tests ran) and list every deliverable in `artifacts`.
