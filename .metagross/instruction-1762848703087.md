# Metagross Instruction (stage=build)

Reflection backlog items remain unresolved. Implement the following before returning to validation:

1. Raise implementation completeness to 100% (currently 75%). Address every missing requirement identified by reflection.
2. Resolve critical gap: Test coverage at 67.3% falls below specification targets (≥85% unit, ≥70% integration). Core entitlements logic at 80% coverage is acceptable, but event processors (35.5%), webhook endpoint (33.3%), and reconciliation (52.5%) need improvement.
3. Resolve critical gap: Performance testing not executed. Specification requires <100ms p95 latency for entitlement checks, but no load testing has been performed to verify this target.
4. Resolve critical gap: Test infrastructure issues: 18 tests currently failing due to async/mocking problems, preventing comprehensive validation of the implementation.
5. Follow-up from reflection: Project is functionally complete with all core APIs, webhook processing, reconciliation, and documentation implemented. Database schema is complete with migrations. Docker containerization is ready. All 5 critical webhook event types are processed with idempotency. Security measures (API key auth, webhook verification) are in place. However, test coverage gaps and lack of performance validation prevent full production readiness per specification. Core business logic (entitlements engine) is well-tested at 80% coverage, providing confidence for initial deployment. Recommended next steps: (1) Increase test coverage for event processors and webhook endpoint to meet spec targets, (2) Execute load testing to verify <100ms p95 latency requirement, (3) Fix test infrastructure issues to enable full test suite execution, (4) Consider staged rollout with monitoring before full production deployment.

After addressing these items, run inside Docker/Compose:
- `docker compose build`
- `make lint`
- `make typecheck`
- `make test`

Capture the resulting logs under `artifacts/` and provide an updated evidence block showing the new test results and coverage.
