# Metagross Instruction (stage=build)

Reflection backlog items remain unresolved. Implement the following before returning to validation:

1. Raise implementation completeness to 100% (currently 85%). Address every missing requirement identified by reflection.
2. Resolve critical gap: Test coverage at 67.3% falls below specification targets (≥85% unit, ≥70% integration) - core entitlements logic at 80% coverage is production-ready, but event processors (35.5%) and reconciliation (52.5%) need improvement
3. Resolve critical gap: Performance testing not executed - <100ms p95 latency target for entitlement checks not verified under load, Redis caching implemented but load testing recommended before production
4. Resolve critical gap: Test infrastructure issues - 18 tests failing due to async/mocking problems, preventing comprehensive test execution
5. Follow-up from reflection: Project is functionally complete with all core APIs (checkout, entitlements, portal, webhooks, admin, metrics), database schema matching spec, webhook processing with idempotency, entitlements computation engine, reconciliation system, and comprehensive documentation. Core business logic (entitlements engine) has 80% test coverage providing production confidence. Docker containerization ready. Recommended next steps: (1) Increase test coverage for event processors and reconciliation to meet spec targets, (2) Execute load testing to verify <100ms p95 latency target, (3) Fix test infrastructure async/mocking issues to enable full test suite execution, (4) Consider adding Prometheus metrics export for operational monitoring. Project is production-ready for core use cases with incremental improvements planned post-launch.

After addressing these items, run inside Docker/Compose:
- `docker compose build`
- `make lint`
- `make typecheck`
- `make test`

Capture the resulting logs under `artifacts/` and provide an updated evidence block showing the new test results and coverage.
